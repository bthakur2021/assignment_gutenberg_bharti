import 'dart:convert';

import 'package:dio/dio.dart';
import 'package:get/get.dart';

import '../../constants/environment.dart';
import '../models/response/response_books.dart';
import 'network_call_interceptor.dart';

class ApiHandler {
  ApiHandler._();

  static ApiHandler? _instance;

  static final ApiHandler instance = _instance ??= ApiHandler._();
  final String _baseUrl = Environment.apiUrl;

  final String _urlParentApiPath = '/books';

  final String paramKeySearch = 'search';
  final String paramKeyTopic = 'topic';
  final String paramKeyMimeType = 'mime_type';

  final String paramValueMimeType = 'image';

  late final Dio _api = getApiFromUrl(_baseUrl);

  Dio getApiFromUrl(String url) {
    final dio = Dio()
      ..options.baseUrl = url
      ..options.contentType = 'application/json';

    dio.interceptors
      ..add(NetworkCallInterceptor())
      ..add(LogInterceptor(requestBody: true, responseBody: true));

    return dio;
  }

  CancelToken get cancelTokenGetBooks => CancelToken();

  Future<ResponseBooks?> getBooks({Map<String, String>? request, String? url}) async {
    try {
      if (cancelTokenGetBooks.isCancelled) {
        cancelTokenGetBooks.cancel();
      }

      request ??= {};
      request[paramKeyMimeType] = paramValueMimeType;

      if (url == null) {
        url = '/$_urlParentApiPath';
        url = "$url?${request.entries.map((e) => '${e.key}=${e.value}').join('&&')}";
      }

      /*
      final response = await _api.get<String>(url, cancelToken: cancelTokenGetBooks);
      final json = jsonDecode(response.data!) as Map<String, dynamic>;
      */

      final Map<String, dynamic> json;
      if (GetPlatform.isWeb) {
        json = jsonDecode(tempApiResultToCheckWeb) as Map<String, dynamic>;
      } else {
        final response = await _api.get<String>(url, cancelToken: cancelTokenGetBooks);
        json = jsonDecode(response.data!) as Map<String, dynamic>;
      }

      final responseObj = ResponseBooks.fromJson(json);
      return responseObj;
    } catch (e) {
      return null;
    }
  }
}

String tempApiResultToCheckWeb = """
{"count":5225,"next":"http://skunkworks.ignitesol.com:8000/books/?mime_type=image&page=2&topic=Fiction","previous":null,"results":[{"id":74,"authors":[{"birth_year":1835,"death_year":1910,"name":"Twain, Mark"}],"bookshelves":["Banned Books from Anne Haight's list"],"download_count":17681,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/74.kindle.noimages","text/plain; charset=utf-8":"http://www.gutenberg.org/files/74/74-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/74.rdf","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/74/74.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/74.epub.images","image/jpeg":"http://www.gutenberg.org/cache/epub/74/pg74.cover.medium.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/74/74-h/74-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Adventure stories","Bildungsromans","Boys -- Fiction","Child witnesses -- Fiction","Humorous stories","Male friendship -- Fiction","Mississippi River Valley -- Fiction","Missouri -- Fiction","Runaway children -- Fiction","Sawyer, Tom (Fictitious character) -- Fiction"],"title":"The Adventures of Tom Sawyer"},{"id":76,"authors":[{"birth_year":1835,"death_year":1910,"name":"Twain, Mark"}],"bookshelves":["Banned Books from Anne Haight's list","Best Books Ever Listings"],"download_count":11792,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/76.kindle.noimages","text/plain; charset=utf-8":"http://www.gutenberg.org/files/76/76-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/76.rdf","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/76/76.txt","application/zip":"http://www.gutenberg.org/files/76/76-h.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/76.epub.images","image/jpeg":"http://www.gutenberg.org/cache/epub/76/pg76.cover.medium.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/76/76-h/76-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Adventure stories","Bildungsromans","Boys -- Fiction","Finn, Huckleberry (Fictitious character) -- Fiction","Fugitive slaves -- Fiction","Humorous stories","Male friendship -- Fiction","Mississippi River -- Fiction","Missouri -- Fiction","Race relations -- Fiction","Runaway children -- Fiction"],"title":"Adventures of Huckleberry Finn"},{"id":345,"authors":[{"birth_year":1847,"death_year":1912,"name":"Stoker, Bram"}],"bookshelves":["Gothic Fiction","Horror","Movie Books","Mystery Fiction"],"download_count":9399,"formats":{"text/plain":"http://www.gutenberg.org/ebooks/345.txt.utf-8","application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/345.kindle.images","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/345/345.zip","application/rdf+xml":"http://www.gutenberg.org/ebooks/345.rdf","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/345/345-8.txt","application/zip":"http://www.gutenberg.org/files/345/345-8.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/345.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/345/pg345.cover.medium.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/345/345-h/345-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Dracula, Count (Fictitious character) -- Fiction","Epistolary fiction","Gothic fiction (Literary genre)","Horror tales","Transylvania (Romania) -- Fiction","Vampires -- Fiction","Whitby (England) -- Fiction"],"title":"Dracula"},{"id":1184,"authors":[{"birth_year":1802,"death_year":1870,"name":"Dumas, Alexandre"}],"bookshelves":["Adventure","Movie Books"],"download_count":8093,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/1184.kindle.images","text/plain; charset=utf-8":"http://www.gutenberg.org/files/1184/1184-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/1184.rdf","application/zip":"http://www.gutenberg.org/files/1184/1184-h.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/1184.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/1184/pg1184.cover.small.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/1184/1184-h/1184-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Adventure stories","Dantès, Edmond (Fictitious character) -- Fiction","France -- History -- 19th century -- Fiction","Historical fiction","Pirates -- Fiction","Prisoners -- Fiction","Revenge -- Fiction"],"title":"The Count of Monte Cristo, Illustrated"},{"id":135,"authors":[{"birth_year":1802,"death_year":1885,"name":"Hugo, Victor"}],"bookshelves":["Banned Books from Anne Haight's list","Historical Fiction"],"download_count":6444,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/135.kindle.images","text/plain; charset=utf-8":"http://www.gutenberg.org/files/135/135-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/135.rdf","application/epub+zip":"http://www.gutenberg.org/ebooks/135.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/135/pg135.cover.medium.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/135/135-h/135-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Epic literature","Ex-convicts -- Fiction","Historical fiction","Orphans -- Fiction","Paris (France) -- Fiction"],"title":"Les Misérables"},{"id":46,"authors":[{"birth_year":1812,"death_year":1870,"name":"Dickens, Charles"}],"bookshelves":["Children's Literature","Christmas"],"download_count":6107,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/46.kindle.images","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/46/46.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/46.rdf","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/46/46-8.txt","application/epub+zip":"http://www.gutenberg.org/ebooks/46.epub.images","application/zip":"http://www.gutenberg.org/files/46/46.zip","text/plain":"http://www.gutenberg.org/ebooks/46.txt.utf-8","image/jpeg":"http://www.gutenberg.org/cache/epub/46/pg46.cover.small.jpg","text/html; charset=iso-8859-1":"http://www.gutenberg.org/files/46/46-h/46-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Christmas stories","Ghost stories","London (England) -- Fiction","Misers -- Fiction","Poor families -- Fiction","Scrooge, Ebenezer (Fictitious character) -- Fiction","Sick children -- Fiction"],"title":"A Christmas Carol in Prose; Being a Ghost Story of Christmas"},{"id":120,"authors":[{"birth_year":1850,"death_year":1894,"name":"Stevenson, Robert Louis"}],"bookshelves":["Best Books Ever Listings","Children's Literature","Historical Fiction"],"download_count":5837,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/120.kindle.images","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/120/120.txt","text/html; charset=us-ascii":"http://www.gutenberg.org/files/120/120-h/120-h.htm","application/epub+zip":"http://www.gutenberg.org/ebooks/120.epub.images","application/zip":"http://www.gutenberg.org/files/120/120-h.zip","text/plain":"http://www.gutenberg.org/ebooks/120.txt.utf-8","image/jpeg":"http://www.gutenberg.org/cache/epub/120/pg120.cover.medium.jpg","application/rdf+xml":"http://www.gutenberg.org/ebooks/120.rdf"},"languages":["en"],"media_type":"Text","subjects":["Pirates -- Fiction","Sea stories","Treasure Island (Imaginary place) -- Fiction","Treasure troves -- Fiction"],"title":"Treasure Island"},{"id":1837,"authors":[{"birth_year":1835,"death_year":1910,"name":"Twain, Mark"}],"bookshelves":["Historical Fiction"],"download_count":2830,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/1837.kindle.noimages","text/plain; charset=utf-8":"http://www.gutenberg.org/files/1837/1837-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/1837.rdf","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/1837/1837.txt","application/zip":"http://www.gutenberg.org/files/1837/1837-0.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/1837.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/1837/pg1837.cover.medium.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/1837/1837-h/1837-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Boys -- Fiction","Edward VI, King of England, 1537-1553 -- Fiction","Historical fiction","Impostors and imposture -- Fiction","London (England) -- Fiction","Lookalikes -- Fiction","Poor children -- Fiction","Princes -- Fiction","Social classes -- Fiction"],"title":"The Prince and the Pauper"},{"id":86,"authors":[{"birth_year":1835,"death_year":1910,"name":"Twain, Mark"}],"bookshelves":["Arthurian Legends","Precursors of Science Fiction"],"download_count":1890,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/86.kindle.noimages","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/86/86.txt","text/plain; charset=utf-8":"http://www.gutenberg.org/files/86/86-0.zip","application/rdf+xml":"http://www.gutenberg.org/ebooks/86.rdf","application/zip":"http://www.gutenberg.org/files/86/86.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/86.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/86/pg86.cover.medium.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/86/86-h.zip"},"languages":["en"],"media_type":"Text","subjects":["Americans -- Great Britain -- Fiction","Arthurian romances -- Adaptations","Britons -- Fiction","Fantasy fiction","Kings and rulers -- Fiction","Knights and knighthood -- Fiction","Satire","Time travel -- Fiction"],"title":"A Connecticut Yankee in King Arthur's Court"},{"id":1200,"authors":[{"birth_year":null,"death_year":null,"name":"Rabelais, François"}],"bookshelves":["Banned Books from Anne Haight's list","Best Books Ever Listings"],"download_count":1515,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/1200.kindle.images","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/1200/1200.txt","text/plain; charset=utf-8":"http://www.gutenberg.org/files/1200/1200-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/1200.rdf","application/zip":"http://www.gutenberg.org/files/1200/1200-h.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/1200.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/1200/pg1200.cover.medium.jpg","text/html; charset=iso-8859-1":"http://www.gutenberg.org/files/1200/1200-h/1200-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Fantasy fiction, French -- Translations into English","Gargantua (Legendary character) -- Fiction","Giants -- Fiction"],"title":"Gargantua and Pantagruel"},{"id":421,"authors":[{"birth_year":1850,"death_year":1894,"name":"Stevenson, Robert Louis"}],"bookshelves":["Adventure","Best Books Ever Listings","Children's Literature","Historical Fiction","Movie Books","Pirates, Buccaneers, Corsairs, etc."],"download_count":1386,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/421.kindle.images","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/421/421.txt","text/plain; charset=utf-8":"http://www.gutenberg.org/files/421/421-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/421.rdf","application/epub+zip":"http://www.gutenberg.org/ebooks/421.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/421/pg421.cover.medium.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/421/421-h/421-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Adventure and adventurers -- Fiction","Historical fiction","Kidnapping -- Fiction","Scotland -- History -- 18th century -- Fiction"],"title":"Kidnapped"},{"id":5225,"authors":[{"birth_year":20,"death_year":66,"name":"Petronius Arbiter"}],"bookshelves":["Banned Books from Anne Haight's list","Erotic Fiction"],"download_count":1347,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/5225.kindle.noimages","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/5225/5225.txt","text/plain; charset=utf-8":"http://www.gutenberg.org/files/5225/5225-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/5225.rdf","application/zip":"http://www.gutenberg.org/files/5225/5225.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/5225.epub.images","image/jpeg":"http://www.gutenberg.org/cache/epub/5225/pg5225.cover.small.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/5225/5225-h/5225-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Rome -- Fiction","Satire, Latin -- Translations into English"],"title":"The Satyricon — Complete"},{"id":12122,"authors":[{"birth_year":1863,"death_year":1943,"name":"Jacobs, W. W. (William Wymark)"}],"bookshelves":["Gothic Fiction"],"download_count":1337,"formats":{"application/epub+zip":"http://www.gutenberg.org/ebooks/12122.epub.images","image/jpeg":"http://www.gutenberg.org/cache/epub/12122/pg12122.cover.medium.jpg","text/plain":"http://www.gutenberg.org/ebooks/12122.txt.utf-8","application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/12122.kindle.images","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/12122/12122.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/12122.rdf","text/html; charset=us-ascii":"http://www.gutenberg.org/files/12122/12122-h/12122-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Horror tales","Wishes -- Fiction"],"title":"The Monkey's Paw: The Lady of the Barge and Others, Part 2."},{"id":22367,"authors":[{"birth_year":1883,"death_year":1924,"name":"Kafka, Franz"}],"bookshelves":["DE Prosa"],"download_count":1266,"formats":{"text/plain":"http://www.gutenberg.org/ebooks/22367.txt.utf-8","application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/22367.kindle.images","application/rdf+xml":"http://www.gutenberg.org/ebooks/22367.rdf","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/22367/22367-8.txt","application/zip":"http://www.gutenberg.org/files/22367/22367-h.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/22367.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/22367/pg22367.cover.medium.jpg","text/html; charset=iso-8859-1":"http://www.gutenberg.org/files/22367/22367-h/22367-h.htm"},"languages":["de"],"media_type":"Text","subjects":["Metamorphosis -- Fiction","Psychological fiction"],"title":"Die Verwandlung"},{"id":23700,"authors":[{"birth_year":1313,"death_year":1375,"name":"Boccaccio, Giovanni"}],"bookshelves":["Best Books Ever Listings"],"download_count":1245,"formats":{"text/plain":"http://www.gutenberg.org/ebooks/23700.txt.utf-8","application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/23700.kindle.noimages","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/23700/23700.zip","application/rdf+xml":"http://www.gutenberg.org/ebooks/23700.rdf","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/23700/23700-8.txt","application/zip":"http://www.gutenberg.org/files/23700/23700-h.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/23700.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/23700/pg23700.cover.small.jpg","text/html; charset=iso-8859-1":"http://www.gutenberg.org/files/23700/23700-h/23700-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Allegories","Frame-stories","Plague -- Europe -- History -- Fiction","Storytelling -- Fiction"],"title":"The Decameron of Giovanni Boccaccio"},{"id":6737,"authors":[{"birth_year":1861,"death_year":1896,"name":"Rizal, José"}],"bookshelves":[],"download_count":1117,"formats":{"text/plain":"http://www.gutenberg.org/ebooks/6737.txt.utf-8","application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/6737.kindle.noimages","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/6737/6737.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/6737.rdf","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/6737/6737-8.zip","application/zip":"http://www.gutenberg.org/files/6737/6737-h.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/6737.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/6737/pg6737.cover.small.jpg","text/html; charset=iso-8859-1":"http://www.gutenberg.org/files/6737/6737-h/6737-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Historical fiction","Philippines -- History -- 1812-1898 -- Fiction"],"title":"The Social Cancer: A Complete English Version of Noli Me Tangere"},{"id":32032,"authors":[{"birth_year":1928,"death_year":1982,"name":"Dick, Philip K."}],"bookshelves":["Science Fiction"],"download_count":1106,"formats":{"text/html; charset=utf-8":"http://www.gutenberg.org/files/32032/32032-h/32032-h.htm","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/32032/32032.txt","application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/32032.kindle.images","text/plain":"http://www.gutenberg.org/ebooks/32032.txt.utf-8","application/zip":"http://www.gutenberg.org/files/32032/32032.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/32032.epub.images","image/jpeg":"http://www.gutenberg.org/cache/epub/32032/pg32032.cover.small.jpg","application/rdf+xml":"http://www.gutenberg.org/ebooks/32032.rdf"},"languages":["en"],"media_type":"Text","subjects":["Robots -- Fiction","Science fiction","War stories"],"title":"Second Variety"},{"id":54683,"authors":[{"birth_year":1783,"death_year":1859,"name":"Morgan, Lady (Sydney)"}],"bookshelves":[],"download_count":1088,"formats":{"text/plain; charset=utf-8":"http://www.gutenberg.org/files/54683/54683-0.txt","text/html; charset=utf-8":"http://www.gutenberg.org/files/54683/54683-h/54683-h.htm","application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/54683.kindle.images","application/zip":"http://www.gutenberg.org/files/54683/54683-0.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/54683.epub.images","image/jpeg":"http://www.gutenberg.org/cache/epub/54683/pg54683.cover.small.jpg","application/rdf+xml":"http://www.gutenberg.org/ebooks/54683.rdf"},"languages":["en"],"media_type":"Text","subjects":["British -- Ireland -- Fiction","Celts -- Fiction","Ireland -- Fiction","Love stories","Princesses -- Fiction"],"title":"The Wild Irish Girl: A National Tale"},{"id":8525,"authors":[{"birth_year":1835,"death_year":1910,"name":"Twain, Mark"}],"bookshelves":[],"download_count":1072,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/8525.kindle.images","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/8525/8525.txt","text/plain; charset=utf-8":"http://www.gutenberg.org/files/8525/8525-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/8525.rdf","application/zip":"http://www.gutenberg.org/files/8525/8525-h.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/8525.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/8525/pg8525.cover.small.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/8525/8525-h/8525-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Bible. Genesis -- History of Biblical events -- Fiction","Diary fiction","Eve (Biblical figure) -- Fiction","Humorous stories"],"title":"Eve's Diary, Complete"},{"id":26654,"authors":[{"birth_year":1860,"death_year":1937,"name":"Barrie, J. M. (James Matthew)"}],"bookshelves":[],"download_count":1061,"formats":{"text/plain":"http://www.gutenberg.org/ebooks/26654.txt.utf-8","application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/26654.kindle.noimages","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/26654/26654.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/26654.rdf","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/26654/26654-8.txt","application/zip":"http://www.gutenberg.org/files/26654/26654-8.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/26654.epub.images","image/jpeg":"http://www.gutenberg.org/cache/epub/26654/pg26654.cover.medium.jpg","text/html; charset=iso-8859-1":"http://www.gutenberg.org/files/26654/26654-h/26654-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Fairies -- Juvenile fiction","Fantasy literature","Never-Never Land (Imaginary place) -- Fiction","Peter Pan (Fictitious character) -- Fiction","Pirates -- Juvenile fiction"],"title":"Peter and Wendy"},{"id":34811,"authors":[{"birth_year":1875,"death_year":1955,"name":"Mann, Thomas"}],"bookshelves":["Best Books Ever Listings","DE Prosa"],"download_count":968,"formats":{"application/octet-stream":"http://www.gutenberg.org/files/34811/34811-page-images.zip","application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/34811.kindle.images","application/rdf+xml":"http://www.gutenberg.org/ebooks/34811.rdf","text/plain":"http://www.gutenberg.org/ebooks/34811.txt.utf-8","application/zip":"http://www.gutenberg.org/files/34811/34811-h.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/34811.epub.images","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/34811/34811-8.zip","image/jpeg":"http://www.gutenberg.org/cache/epub/34811/pg34811.cover.small.jpg","text/html; charset=iso-8859-1":"http://www.gutenberg.org/files/34811/34811-h/34811-h.htm"},"languages":["de"],"media_type":"Text","subjects":["Domestic fiction","Families -- Fiction","Germany -- Fiction"],"title":"Buddenbrooks: Verfall einer Familie"},{"id":102,"authors":[{"birth_year":1835,"death_year":1910,"name":"Twain, Mark"}],"bookshelves":[],"download_count":961,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/102.kindle.noimages","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/102/102.txt","text/plain; charset=utf-8":"http://www.gutenberg.org/files/102/102-0.txt","text/html; charset=us-ascii":"http://www.gutenberg.org/files/102/102-h/102-h.htm","application/zip":"http://www.gutenberg.org/files/102/102-h.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/102.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/102/pg102.cover.medium.jpg","application/rdf+xml":"http://www.gutenberg.org/ebooks/102.rdf"},"languages":["en"],"media_type":"Text","subjects":["Impostors and imposture -- Fiction","Infants switched at birth -- Fiction","Legal stories","Missouri -- Fiction","Passing (Identity) -- Fiction","Race relations -- Fiction","Trials (Murder) -- Fiction"],"title":"The Tragedy of Pudd'nhead Wilson"},{"id":50133,"authors":[{"birth_year":1890,"death_year":1937,"name":"Lovecraft, H. P. (Howard Phillips)"}],"bookshelves":["Science Fiction"],"download_count":909,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/50133.kindle.images","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/50133/50133-8.txt","text/html; charset=us-ascii":"http://www.gutenberg.org/files/50133/50133-h/50133-h.htm","application/epub+zip":"http://www.gutenberg.org/ebooks/50133.epub.images","text/plain":"http://www.gutenberg.org/ebooks/50133.txt.utf-8","image/jpeg":"http://www.gutenberg.org/cache/epub/50133/pg50133.cover.small.jpg","application/rdf+xml":"http://www.gutenberg.org/ebooks/50133.rdf"},"languages":["en"],"media_type":"Text","subjects":[],"title":"The Dunwich Horror"},{"id":963,"authors":[{"birth_year":1812,"death_year":1870,"name":"Dickens, Charles"}],"bookshelves":[],"download_count":866,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/963.kindle.images","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/963/963.zip","text/plain; charset=utf-8":"http://www.gutenberg.org/files/963/963-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/963.rdf","application/zip":"http://www.gutenberg.org/files/963/963-0.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/963.epub.images","image/jpeg":"http://www.gutenberg.org/cache/epub/963/pg963.cover.small.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/963/963-h/963-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Children of prisoners -- Fiction","Debt, Imprisonment for -- Fiction","Domestic fiction","Fathers and daughters -- Fiction","Inheritance and succession -- Fiction","London (England) -- Fiction","Love stories","Marshalsea Prison (Southwark, London, England) -- Fiction"],"title":"Little Dorrit"},{"id":9830,"authors":[{"birth_year":1896,"death_year":1940,"name":"Fitzgerald, F. Scott (Francis Scott)"}],"bookshelves":[],"download_count":820,"formats":{"text/plain":"http://www.gutenberg.org/ebooks/9830.txt.utf-8","application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/9830.kindle.images","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/9830/9830.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/9830.rdf","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/9830/9830-8.txt","application/zip":"http://www.gutenberg.org/files/9830/9830-8.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/9830.epub.images","image/jpeg":"http://www.gutenberg.org/cache/epub/9830/pg9830.cover.small.jpg","text/html; charset=iso-8859-1":"http://www.gutenberg.org/files/9830/9830-h/9830-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Alcoholics -- Fiction","Domestic fiction","Inheritance and succession -- Fiction","Married people -- Fiction","New York (N.Y.) -- Fiction","Psychological fiction","Socialites -- Fiction","Young men -- Fiction"],"title":"The Beautiful and Damned"},{"id":35997,"authors":[{"birth_year":1865,"death_year":1936,"name":"Kipling, Rudyard"}],"bookshelves":[],"download_count":804,"formats":{"text/plain; charset=us-ascii":"http://www.gutenberg.org/files/35997/35997.zip","application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/35997.kindle.noimages","application/rdf+xml":"http://www.gutenberg.org/ebooks/35997.rdf","text/plain":"http://www.gutenberg.org/ebooks/35997.txt.utf-8","application/epub+zip":"http://www.gutenberg.org/ebooks/35997.epub.images","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/35997/35997-8.txt","image/jpeg":"http://www.gutenberg.org/cache/epub/35997/pg35997.cover.medium.jpg","text/html; charset=iso-8859-1":"http://www.gutenberg.org/files/35997/35997-h.zip"},"languages":["en"],"media_type":"Text","subjects":["Adventure stories, English","Animals -- Fiction","Feral children -- Fiction","India -- Fiction","Jungle animals -- Fiction","Jungles -- Fiction","Mowgli (Fictitious character) -- Fiction","Short stories"],"title":"The Jungle Book"},{"id":5921,"authors":[{"birth_year":1547,"death_year":1616,"name":"Cervantes Saavedra, Miguel de"}],"bookshelves":["Banned Books from Anne Haight's list","Best Books Ever Listings"],"download_count":792,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/5921.kindle.images","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/5921/5921.txt","text/plain; charset=utf-8":"http://www.gutenberg.org/files/5921/5921-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/5921.rdf","application/zip":"http://www.gutenberg.org/files/5921/5921-h.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/5921.epub.images","image/jpeg":"http://www.gutenberg.org/cache/epub/5921/pg5921.cover.medium.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/5921/5921-h/5921-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Knights and knighthood -- Spain -- Fiction","Picaresque literature","Romances","Spain -- Social life and customs -- 16th century -- Fiction"],"title":"The History of Don Quixote, Volume 1, Complete"},{"id":967,"authors":[{"birth_year":1812,"death_year":1870,"name":"Dickens, Charles"}],"bookshelves":[],"download_count":731,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/967.kindle.noimages","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/967/967.txt","text/plain; charset=utf-8":"http://www.gutenberg.org/files/967/967-0.zip","application/rdf+xml":"http://www.gutenberg.org/ebooks/967.rdf","application/zip":"http://www.gutenberg.org/files/967/967.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/967.epub.images","image/jpeg":"http://www.gutenberg.org/cache/epub/967/pg967.cover.small.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/967/967-h/967-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Bildungsromans","Boarding schools -- Fiction","England -- Fiction","England -- Social life and customs -- 19th century -- Fiction","Picaresque literature","Poor families -- Fiction","Theatrical companies -- Fiction","Young men -- Fiction"],"title":"Nicholas Nickleby"},{"id":17396,"authors":[{"birth_year":1849,"death_year":1924,"name":"Burnett, Frances Hodgson"}],"bookshelves":["Children's Literature"],"download_count":721,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/17396.kindle.images","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/17396/17396.txt","application/epub+zip":"http://www.gutenberg.org/ebooks/17396.epub.noimages","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/17396/17396-8.txt","application/zip":"http://www.gutenberg.org/files/17396/17396.zip","text/plain":"http://www.gutenberg.org/ebooks/17396.txt.utf-8","image/jpeg":"http://www.gutenberg.org/cache/epub/17396/pg17396.cover.medium.jpg","application/rdf+xml":"http://www.gutenberg.org/ebooks/17396.rdf","text/html; charset=iso-8859-1":"http://www.gutenberg.org/files/17396/17396-h/17396-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Gardens -- Fiction","Orphans -- Fiction","People with disabilities -- Fiction","Yorkshire (England) -- Fiction"],"title":"The Secret Garden"},{"id":5946,"authors":[{"birth_year":1547,"death_year":1616,"name":"Cervantes Saavedra, Miguel de"}],"bookshelves":["Banned Books from Anne Haight's list","Best Books Ever Listings"],"download_count":697,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/5946.kindle.noimages","text/plain; charset=us-ascii":"http://www.gutenberg.org/files/5946/5946.txt","text/plain; charset=utf-8":"http://www.gutenberg.org/files/5946/5946-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/5946.rdf","application/zip":"http://www.gutenberg.org/files/5946/5946-0.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/5946.epub.images","image/jpeg":"http://www.gutenberg.org/cache/epub/5946/pg5946.cover.medium.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/5946/5946-h/5946-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Knights and knighthood -- Spain -- Fiction","Picaresque literature","Romances","Spain -- Social life and customs -- 16th century -- Fiction"],"title":"The History of Don Quixote, Volume 2, Complete"},{"id":119,"authors":[{"birth_year":1835,"death_year":1910,"name":"Twain, Mark"}],"bookshelves":[],"download_count":682,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/119.kindle.images","text/plain; charset=utf-8":"http://www.gutenberg.org/files/119/119-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/119.rdf","text/plain; charset=iso-8859-1":"http://www.gutenberg.org/files/119/119-8.txt","application/zip":"http://www.gutenberg.org/files/119/119-h.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/119.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/119/pg119.cover.small.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/119/119-h/119-h.htm"},"languages":["en"],"media_type":"Text","subjects":["Americans -- Europe -- Fiction","Europe -- Fiction","Humorous stories","Walking -- Fiction"],"title":"A Tramp Abroad"},{"id":4397,"authors":[{"birth_year":1867,"death_year":1933,"name":"Galsworthy, John"}],"bookshelves":[],"download_count":675,"formats":{"application/x-mobipocket-ebook":"http://www.gutenberg.org/ebooks/4397.kindle.images","text/plain; charset=utf-8":"http://www.gutenberg.org/files/4397/4397-0.txt","application/rdf+xml":"http://www.gutenberg.org/ebooks/4397.rdf","application/zip":"http://www.gutenberg.org/files/4397/4397-0.zip","application/epub+zip":"http://www.gutenberg.org/ebooks/4397.epub.noimages","image/jpeg":"http://www.gutenberg.org/cache/epub/4397/pg4397.cover.medium.jpg","text/html; charset=utf-8":"http://www.gutenberg.org/files/4397/4397-h.zip"},"languages":["en"],"media_type":"Text","subjects":["Domestic fiction","England -- Social life and customs -- 19th century -- Fiction","England -- Social life and customs -- 20th century -- Fiction","Families -- England -- Fiction","Forsyte family (Fictitious characters) -- Fiction","Middle class -- England -- Fiction","Women -- England -- Fiction"],"title":"The Forsyte Saga - Complete"}]}
""";
